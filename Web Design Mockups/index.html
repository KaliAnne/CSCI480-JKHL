<!DOCTYPE html>
<html>
  <head align="center">
    <meta char="UTF-8" />
    <link rel="stylesheet" type="text/css" href="seatingChart.css" />
  </head>
  <script>
  function byId(e){return document.getElementById(e);}
    window.addEventListener('load', mInit, false);
  function byId(e){return document.getElementById(e);}
  function SeatAttndSwap(btnClickedID)
  {
	var seatImg = '';
	switch (btnClickedID) {
		case 'btnSeat1':
			seatImg = 'imgSeat1';
			break;
		case 'btnSeat2':
			seatImg = 'imgSeat2';
			break;
		case 'btnSeat3':
			seatImg = 'imgSeat3';
			break;
		case 'btnSeat4':
			seatImg = 'imgSeat4';
			break;
		case 'btnSeat5':
			seatImg = 'imgSeat5';
			break;
		case 'btnSeat6':
			seatImg = 'imgSeat6';
			break;
		case 'btnSeat7':
			seatImg = 'imgSeat7';
			break;
		case 'btnSeat8':
			seatImg = 'imgSeat8';
			break;
		case 'btnSeat9':
			seatImg = 'imgSeat9';
			break;
	}
    var tgt = byId(seatImg);
    var tmp = tgt.src;
    tgt.src = tgt.getAttribute('src2');
    tgt.setAttribute('src2', tmp);
  }
  
//HB function either makes the room information editable or not
//TODO: check whether professor or not
//TODO: confirmation that info will be lost
//TODO: change # of "buttons" or seats based on saved changes
//TODO: Connect changes to database entry of chart
  function activeEdit()
  {
    var chartName = byId('ChartName');
    var chartSize = byId('RoomSize');
    var editBtn   = byId('EditRoom');

    if (editBtn.innerHTML == "Save Changes") {
      chartName.readOnly = true;
      chartSize.readOnly = true;
      editBtn.innerHTML = "Edit Room";
    }
    else {
      chartName.readOnly = false;
      chartSize.readOnly = false;
      editBtn.innerHTML = "Save Changes";
    }
  }

//HB function to remove a student from the class
//TODO: Actually remove from list
//TODO: Confirmation data will be lost
//TODO: Check whether professor or not
//TODO: Connect changes to database entry of chart
  function removeStudent() {
    var studentList = byId('studentList');
    var studentToRemove = prompt("Which student would you like to remove?");
    var found = "false";
  
    for (i=0; i<studentList.length; i++){
      if(studentList.options[i].text == studentToRemove){
        //studentList.removeAttribute(options[i]);
        found = "true";
        alert(studentToRemove + " was removed");
        break;
      }
    }
  
    var test3 = prompt("made it");
  
    if (found == "false") {
      var test2 = prompt("made it");
      alert("Student not found. Please try again.");
    }  
  }
  </script>
  <body>
    <div align="center">
    <nav align="left">
      <dt>Chart Name <input id="ChartName" readonly="true" value="Davis 196"></input></dt>
    <hr/>
      <dt>Room Size <input id="RoomSize" readonly="true" value="3x3"></input></dt>
      <dt><button id="EditRoom" class= "attenBtn" onclick= "activeEdit();">Edit Room</button></dt>
    <hr/>
  <dt>Students
    <select id="studentList">
      <option>Bob</option>
      <option>Rick</option>
      <option>Tim</option>
      <option>Mary</option>
      <option>Susan</option>
      <option>Kali</option>
      <option>Heather</option>
      <option>Jacob</option>
      <option>Lucas</option>
    </select>
  </dt>
  <hr/>
    <dt><button class= "attenBtn">Home</button></dt>
    <dt><button class= "attenBtn">Delete Room Chart</button></dt>
    <dt><button class= "attenBtn">Add Student</button></dt>
    <dt><button class= "attenBtn" onclick="removeStudent();">Remove Student</button></dt>
    <dt><button class= "attenBtn">Add Aisle</button></dt>
    <dt><button class= "attenBtn">View Student Attendance</button></dt>
  </nav>
  <section align="center">
    <button class="attenBtn">Take Attendance</button>
  <hr/>
  <br />
  <br />
    <button id='btnSeat1' onClick="SeatAttndSwap(this.id);"><img id='imgSeat1' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat2' onClick="SeatAttndSwap(this.id);"><img id='imgSeat2' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat3' onClick="SeatAttndSwap(this.id);"><img id='imgSeat3' src="Checkmark.png" src2='X.png'</button>
  <br />
    <button id='btnSeat4' onClick="SeatAttndSwap(this.id);"><img id='imgSeat4' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat5' onClick="SeatAttndSwap(this.id);"><img id='imgSeat5' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat6' onClick="SeatAttndSwap(this.id);"><img id='imgSeat6' src="Checkmark.png" src2='X.png'</button>
  <br />
    <button id='btnSeat7' onClick="SeatAttndSwap(this.id);"><img id='imgSeat7' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat8' onClick="SeatAttndSwap(this.id);"><img id='imgSeat8' src="Checkmark.png" src2='X.png'</button>
    <button id='btnSeat9' onClick="SeatAttndSwap(this.id);"><img id='imgSeat9' src="Checkmark.png" src2='X.png'</button>
  <br />
  </section>
  </div>
  </body>
</html>
